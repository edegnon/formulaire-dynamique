(()=>{var e={556:(e,t,r)=>{e.exports=r(694)()},694:(e,t,r)=>{"use strict";var n=r(925);function a(){}function i(){}i.resetWarningCache=a,e.exports=function(){function e(e,t,r,a,i,o){if(o!==n){var l=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw l.name="Invariant Violation",l}}function t(){return e}e.isRequired=e;var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:i,resetWarningCache:a};return r.PropTypes=r,r}},925:e=>{"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"}},t={};function r(n){var a=t[n];if(void 0!==a)return a.exports;var i=t[n]={exports:{}};return e[n](i,i.exports,r),i.exports}r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var n={};(()=>{"use strict";r.r(n),r.d(n,{FormField:()=>c,default:()=>h,validateField:()=>u,validateForm:()=>s});const e=require("react");var t=r.n(e),a=r(556),i=r.n(a);function o(){return o=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},o.apply(null,arguments)}var l=function(e){var r=e.field,n=e.value,a=e.error,i=e.touched,l=e.onChange,c=e.onBlur,u=function(e){l(r.name,e.target.files[0]||null)},s=function(){var e={id:r.name,name:r.name,value:"file"!==r.type?n||"":void 0,onChange:"file"!==r.type?function(e){return l(r.name,e.target.value)}:u,onBlur:function(){return c(r.name)},className:"form-field ".concat(r.type," ").concat(a&&i?"error":""),disabled:r.disabled,required:r.required};switch(r.type){case"text":case"email":case"password":case"number":case"tel":case"url":case"date":case"time":case"datetime-local":case"color":return t().createElement("input",o({type:r.type},e,{placeholder:r.placeholder}));case"range":return t().createElement("div",{className:"range-container"},t().createElement("input",o({type:"range"},e,{min:r.min,max:r.max,step:r.step})),t().createElement("span",{className:"range-value"},n));case"textarea":return t().createElement("textarea",o({},e,{rows:r.rows,placeholder:r.placeholder}));case"select":return t().createElement("select",e,r.placeholder&&t().createElement("option",{value:""},r.placeholder),r.options.map((function(e){return t().createElement("option",{key:e.value,value:e.value},e.label)})));case"checkbox":return t().createElement("input",{type:"checkbox",id:r.name,name:r.name,checked:!!n,onChange:function(e){return l(r.name,e.target.checked)},onBlur:function(){return c(r.name)},className:"form-field checkbox ".concat(a&&i?"error":""),disabled:r.disabled});case"radio":return t().createElement("div",{className:"radio-group"},r.options.map((function(e){return t().createElement("label",{key:e.value,className:"radio-option"},t().createElement("input",{type:"radio",name:r.name,value:e.value,checked:n===e.value,onChange:function(e){return l(r.name,e.target.value)},onBlur:function(){return c(r.name)}}),e.label)})));case"file":return t().createElement("input",{type:"file",id:r.name,name:r.name,onChange:u,onBlur:function(){return c(r.name)},accept:r.accept,className:"form-field file ".concat(a&&i?"error":""),disabled:r.disabled});default:return null}};return t().createElement("div",{className:"form-field-container ".concat(r.type,"-container")},"checkbox"===r.type?t().createElement("label",{htmlFor:r.name,className:"checkbox-label"},s(),t().createElement("span",{className:"checkbox-text"},r.label,r.required&&t().createElement("span",{className:"required-asterisk"},"*"))):t().createElement(t().Fragment,null,t().createElement("label",{htmlFor:r.name,className:"field-label"},r.label,r.required&&t().createElement("span",{className:"required-asterisk"},"*")),s()),a&&i&&t().createElement("div",{className:"error-message"},a),r.helpText&&t().createElement("div",{className:"help-text"},r.helpText))};l.propTypes={field:i().object.isRequired,value:i().any,error:i().string,touched:i().bool,onChange:i().func.isRequired,onBlur:i().func.isRequired};const c=l;var u=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};if(n[e]){var a=n[e](t);if(a)return a}if(r.required){if(null==t||""===t)return r.requiredMessage||"Ce champ est requis.";if(Array.isArray(t)&&0===t.length)return r.requiredMessage||"Veuillez ajouter au moins un élément.";if(t instanceof File&&(0===t.size||!t.name.trim()))return r.requiredMessage||"Un fichier est requis."}if(null==t||""===t)return null;if("string"==typeof t){if(r.minLength&&t.length<r.minLength)return r.minLengthMessage||"Minimum ".concat(r.minLength," caractères requis.");if(r.maxLength&&t.length>r.maxLength)return r.maxLengthMessage||"Maximum ".concat(r.maxLength," caractères autorisés.");if(r.pattern&&!new RegExp(r.pattern).test(t))return r.patternMessage||"Format invalide."}if("number"==typeof t||!isNaN(Number(t))){if(void 0!==r.min&&Number(t)<r.min)return r.minMessage||"Valeur minimale : ".concat(r.min);if(void 0!==r.max&&Number(t)>r.max)return r.maxMessage||"Valeur maximale : ".concat(r.max)}if(t instanceof File){if(r.accept&&!r.accept.split(",").map((function(e){return e.trim()})).some((function(e){if(e.includes("*")){var r=e.split("/")[0];return t.type.startsWith(r+"/")}return e.startsWith(".")?t.name.toLowerCase().endsWith(e.toLowerCase()):t.type===e})))return r.acceptMessage||"Type de fichier non autorisé. Types acceptés : ".concat(r.accept);if(r.maxSize&&t.size>r.maxSize)return r.maxSizeMessage||"Fichier trop volumineux (max. ".concat(Math.round(r.maxSize/1024)," Ko)")}return null},s=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n={};return t.forEach((function(t){var a=u(t.name,e[t.name],t.validation,r);a&&(n[t.name]=a)})),n};function m(e){return m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},m(e)}function f(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function d(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?f(Object(r),!0).forEach((function(t){p(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):f(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function p(e,t,r){return(t=function(e){var t=function(e){if("object"!=m(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=m(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==m(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function b(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(e){u=!0,a=e}finally{try{if(!c&&null!=r.return&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return y(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?y(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function y(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var v=function(r){var n,a=r.config,i=r.onSubmit,o=r.customValidation,l=void 0===o?{}:o,m=r.className,f={};a.fields&&Array.isArray(a.fields)&&a.fields.forEach((function(e){f[e.name]=function(e){if(void 0!==e.defaultValue)return e.defaultValue;switch(e.type){case"checkbox":return!1;case"file":return null;case"number":default:return"";case"range":return e.min||0}}(e)}));var y=b((0,e.useState)(f),2),v=y[0],h=y[1],g=b((0,e.useState)({}),2),O=g[0],x=g[1],E=b((0,e.useState)({}),2),S=E[0],j=E[1],N=(0,e.useCallback)((function(e,t){if(h((function(r){return d(d({},r),{},p({},e,t))})),j((function(t){return d(d({},t),{},p({},e,!0))})),a.validateOnChange){var r=a.fields.find((function(t){return t.name===e}));if(r){var n=u(e,t,r.validation,l);x((function(t){return d(d({},t),{},p({},e,n))}))}}}),[a.validateOnChange,a.fields,l]),k=(0,e.useCallback)((function(e){if(j((function(t){return d(d({},t),{},p({},e,!0))})),a.validateOnBlur){var t=a.fields.find((function(t){return t.name===e}));if(t){var r=u(e,v[e],t.validation,l);x((function(t){return d(d({},t),{},p({},e,r))}))}}}),[a.validateOnBlur,a.fields,v,l]);return a.fields&&Array.isArray(a.fields)?t().createElement("form",{onSubmit:function(e){e.preventDefault();var t={};a.fields.forEach((function(e){t[e.name]=!0})),j(t);var r=s(v,a.fields,l);x(r),0===Object.keys(r).length&&i(v)},className:"dynamic-form ".concat(m||""),noValidate:!0},a.fields.map((function(e){return t().createElement(c,{key:e.name,field:e,value:v[e.name],error:O[e.name],touched:S[e.name],onChange:N,onBlur:k})})),t().createElement("button",{type:"submit",className:"form-submit-button",disabled:a.disableSubmitOnError&&Object.keys(O).some((function(e){return O[e]}))},(null===(n=a.submitButton)||void 0===n?void 0:n.text)||"Envoyer")):t().createElement("div",{className:"form-error"},"La configuration du formulaire est invalide.")};v.propTypes={config:i().shape({fields:i().arrayOf(i().object).isRequired,validateOnChange:i().bool,validateOnBlur:i().bool,disableSubmitOnError:i().bool,submitButton:i().shape({text:i().string})}).isRequired,onSubmit:i().func.isRequired,customValidation:i().object,className:i().string};const h=v})(),module.exports=n})();